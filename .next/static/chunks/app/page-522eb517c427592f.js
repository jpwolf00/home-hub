(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5409:function(e,t,s){Promise.resolve().then(s.bind(s,2480))},2480:function(e,t,s){"use strict";s.d(t,{default:function(){return h}});var a=s(7437),l=s(2265);function i(){let[e,t]=(0,l.useState)(!1);return(0,a.jsxs)("header",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-400 to-primary-600 rounded-xl flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a0 01-1 1 1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-white",children:"Home Hub"}),(0,a.jsx)("p",{className:"text-xs text-white/50",children:"Always on"})]})]}),(0,a.jsx)("button",{onClick:()=>t(!e),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:(0,a.jsxs)("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})}function n(){let[e,t]=(0,l.useState)(null),[s,i]=(0,l.useState)(!0),[n,c]=(0,l.useState)(null);return(0,l.useEffect)(()=>{fetch("/api/weather").then(e=>e.json()).then(e=>{t(e),i(!1)}).catch(e=>{c(e.message),i(!1)})},[]),(0,a.jsxs)("div",{className:"card card-hover p-4 h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h2",{className:"text-sm font-medium text-white/70",children:"Weather"}),(0,a.jsx)("span",{className:"text-2xl",children:(null==e?void 0:e.icon)&&({"01d":"☀️","01n":"\uD83C\uDF19","02d":"⛅","02n":"☁️","03d":"☁️","03n":"☁️","04d":"☁️","04n":"☁️","09d":"\uD83C\uDF27️","09n":"\uD83C\uDF27️","10d":"\uD83C\uDF26️","10n":"\uD83C\uDF27️","11d":"⛈️","11n":"⛈️","13d":"❄️","13n":"❄️","50d":"\uD83C\uDF2B️","50n":"\uD83C\uDF2B️"})[e.icon]||"\uD83C\uDF24️"})]}),s?(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-white/10 rounded w-24 mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-white/10 rounded w-32"})]}):n?(0,a.jsxs)("div",{className:"text-white/50 text-sm",children:[(0,a.jsx)("p",{children:"Weather unavailable"}),(0,a.jsx)("p",{className:"text-xs mt-1 opacity-50",children:n})]}):e?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,a.jsxs)("span",{className:"text-4xl font-bold text-white",children:[Math.round(e.temp),"\xb0"]}),(0,a.jsx)("span",{className:"text-white/60",children:"F"})]}),(0,a.jsx)("p",{className:"text-white/70 text-sm capitalize mt-1",children:e.description}),(0,a.jsxs)("div",{className:"flex gap-4 mt-3 text-xs text-white/50",children:[(0,a.jsxs)("span",{children:["\uD83D\uDCA7 ",e.humidity,"%"]}),(0,a.jsxs)("span",{children:["Feels ",Math.round(e.feelsLike),"\xb0"]})]})]}):(0,a.jsx)("p",{className:"text-white/50 text-sm",children:"No data"})]})}function c(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[n,c]=(0,l.useState)("");(0,l.useEffect)(()=>{r()},[]);let r=async()=>{try{let e=await fetch("/api/tasks"),s=await e.json();t(s)}catch(e){console.error("Failed to fetch tasks:",e)}finally{i(!1)}},d=async s=>{if(s.preventDefault(),n.trim())try{let s=await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:n})}),a=await s.json();t([a,...e]),c("")}catch(e){console.error("Failed to add task:",e)}},o=async s=>{let a=e.find(e=>e.id===s);if(a)try{await fetch("/api/tasks/".concat(s),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:!a.completed})}),t(e.map(e=>e.id===s?{...e,completed:!e.completed}:e))}catch(e){console.error("Failed to toggle task:",e)}},h=e.filter(e=>!e.completed).slice(0,6);return(0,a.jsxs)("div",{className:"card card-hover p-4 h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-sm font-medium text-white/70",children:"Tasks"}),(0,a.jsxs)("span",{className:"text-xs bg-primary-500/20 text-primary-300 px-2 py-1 rounded-full",children:[h.length," left"]})]}),(0,a.jsx)("form",{onSubmit:d,className:"mb-4",children:(0,a.jsx)("input",{type:"text",value:n,onChange:e=>c(e.target.value),placeholder:"Add a task...",className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white placeholder-white/30 text-sm focus:outline-none focus:border-primary-500"})}),s?(0,a.jsx)("div",{className:"space-y-2",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-10 bg-white/10 rounded animate-pulse"},e))}):0===h.length?(0,a.jsxs)("div",{className:"text-center py-8 text-white/40",children:[(0,a.jsx)("p",{className:"text-2xl mb-2",children:"✨"}),(0,a.jsx)("p",{className:"text-sm",children:"All caught up!"})]}):(0,a.jsx)("ul",{className:"space-y-2",children:h.map(e=>(0,a.jsxs)("li",{className:"flex items-center gap-3 group",children:[(0,a.jsx)("button",{onClick:()=>o(e.id),className:"w-5 h-5 rounded-full border-2 border-white/30 hover:border-primary-500 hover:bg-primary-500/20 transition-all flex-shrink-0"}),(0,a.jsx)("span",{className:"text-white text-sm truncate",children:e.title})]},e.id))})]})}function r(){let[e,t]=(0,l.useState)(null),[s,i]=(0,l.useState)(!0),[n,c]=(0,l.useState)(null);(0,l.useEffect)(()=>{r();let e=setInterval(r,6e4);return()=>clearInterval(e)},[]);let r=async()=>{try{let e=await fetch("/api/unraid");if(!e.ok)throw Error("Failed to fetch");let s=await e.json();t(s),c(null)}catch(e){c(e instanceof Error?e.message:"Unknown error")}finally{i(!1)}},d=e=>e<50?"bg-green-500":e<80?"bg-yellow-500":"bg-red-500";return(0,a.jsxs)("div",{className:"card card-hover p-4 h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500 animate-pulse"}),(0,a.jsx)("h2",{className:"text-sm font-medium text-white/70",children:"Unraid Server"})]}),(0,a.jsx)("span",{className:"text-xs text-white/40",children:(null==e?void 0:e.hostname)||"..."})]}),s?(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-white/10 rounded w-16 animate-pulse"}),(0,a.jsx)("div",{className:"h-2 bg-white/10 rounded-full animate-pulse"})]},e))}):n?(0,a.jsxs)("div",{className:"text-white/50 text-sm",children:[(0,a.jsx)("p",{children:"Server unreachable"}),(0,a.jsx)("p",{className:"text-xs mt-1 opacity-50",children:n})]}):e?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,a.jsx)("span",{className:"text-white/60",children:"CPU"}),(0,a.jsxs)("span",{className:"text-white",children:[e.cpu,"%"]})]}),(0,a.jsx)("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full ".concat(d(e.cpu)," transition-all duration-500"),style:{width:"".concat(e.cpu,"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,a.jsx)("span",{className:"text-white/60",children:"Memory"}),(0,a.jsxs)("span",{className:"text-white",children:[e.memory,"%"]})]}),(0,a.jsx)("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full ".concat(d(e.memory)," transition-all duration-500"),style:{width:"".concat(e.memory,"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,a.jsx)("span",{className:"text-white/60",children:"Disk"}),(0,a.jsxs)("span",{className:"text-white",children:[e.disk,"%"]})]}),(0,a.jsx)("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full ".concat(d(e.disk)," transition-all duration-500"),style:{width:"".concat(e.disk,"%")}})})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-white/10",children:[(0,a.jsx)("span",{className:"text-xs text-white/60",children:"Containers"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-white",children:[e.runningContainers," / ",e.containers]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs text-white/60",children:"Uptime"}),(0,a.jsx)("span",{className:"text-xs text-white",children:e.uptime})]})]}):null]})}function d(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[n,c]=(0,l.useState)(null);(0,l.useEffect)(()=>{r()},[]);let r=async()=>{try{let e=await fetch("/api/sports");if(!e.ok)throw Error("Failed to fetch");let s=await e.json();t(s)}catch(e){c(e instanceof Error?e.message:"Unknown error")}finally{i(!1)}},d=e=>{switch(e){case"LIVE":return"text-red-400";case"FINISHED":return"text-white/50";default:return"text-primary-300"}},o=e=>new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"});return(0,a.jsxs)("div",{className:"card card-hover p-4 h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-sm font-medium text-white/70",children:"Soccer"}),(0,a.jsx)("span",{className:"text-xs text-white/40",children:"Premier League"})]}),s?(0,a.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-12 bg-white/10 rounded animate-pulse"},e))}):n?(0,a.jsxs)("div",{className:"text-white/50 text-sm",children:[(0,a.jsx)("p",{children:"Scores unavailable"}),(0,a.jsx)("p",{className:"text-xs mt-1 opacity-50",children:n})]}):0===e.length?(0,a.jsxs)("div",{className:"text-center py-8 text-white/40",children:[(0,a.jsx)("p",{className:"text-2xl mb-2",children:"⚽"}),(0,a.jsx)("p",{className:"text-sm",children:"No matches today"})]}):(0,a.jsx)("ul",{className:"space-y-3",children:e.slice(0,4).map(e=>(0,a.jsxs)("li",{className:"bg-white/5 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-xs font-medium ".concat(d(e.status)),children:"LIVE"===e.status?"● LIVE":o(e.date)}),(0,a.jsx)("span",{className:"text-xs text-white/30",children:e.league})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-white font-medium",children:e.homeTeam}),(0,a.jsx)("span",{className:"text-sm text-white/70 px-2",children:null!==e.homeScore?"".concat(e.homeScore," - ").concat(e.awayScore):"vs"}),(0,a.jsx)("span",{className:"text-sm text-white font-medium",children:e.awayTeam})]})]},e.id))})]})}function o(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(""),[n,c]=(0,l.useState)(!1),[r,d]=(0,l.useState)(null);(0,l.useEffect)(()=>{fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:"Say hello and introduce yourself briefly"}]})}).then(e=>e.json()).then(e=>{e.message&&t([{role:"assistant",content:e.message.content}])}).catch(()=>{})},[]);let o=async a=>{if(a.preventDefault(),s.trim()&&!n){i(""),t(e=>[...e,{role:"user",content:s}]),c(!0),d(null);try{let a=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[...e,{role:"user",content:s}]})});if(!a.ok)throw Error("Failed to get response");let l=await a.json();l.message&&t(e=>[...e,{role:"assistant",content:l.message.content}])}catch(e){d(e instanceof Error?e.message:"Something went wrong")}finally{c(!1)}}};return(0,a.jsxs)("div",{className:"card card-hover p-4 h-full flex flex-col",style:{minHeight:"300px"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-purple-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-sm",children:"\uD83E\uDD16"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-sm font-medium text-white",children:"AI Copilot"}),(0,a.jsx)("p",{className:"text-xs text-white/40",children:"Local Ollama"})]}),(0,a.jsx)("div",{className:"ml-auto",children:(0,a.jsx)("button",{onClick:()=>t([]),className:"text-xs text-white/40 hover:text-white/60 transition-colors",children:"Clear"})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-3 mb-4 max-h-48",children:[0===e.length?(0,a.jsx)("p",{className:"text-white/40 text-sm text-center py-4",children:"Ask me anything!"}):e.map((e,t)=>(0,a.jsx)("div",{className:"".concat("user"===e.role?"text-right":"text-left"),children:(0,a.jsx)("span",{className:"inline-block px-3 py-2 rounded-lg text-sm ".concat("user"===e.role?"bg-primary-500/20 text-white":"bg-white/10 text-white/90"),children:e.content})},t)),n&&(0,a.jsx)("div",{className:"text-left",children:(0,a.jsx)("span",{className:"inline-block px-3 py-2 rounded-lg text-sm bg-white/10 text-white/50 animate-pulse",children:"Thinking..."})}),r&&(0,a.jsx)("p",{className:"text-red-400 text-sm text-center",children:r})]}),(0,a.jsxs)("form",{onSubmit:o,className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:s,onChange:e=>i(e.target.value),placeholder:"Ask something...",disabled:n,className:"flex-1 bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white placeholder-white/30 text-sm focus:outline-none focus:border-primary-500 disabled:opacity-50"}),(0,a.jsx)("button",{type:"submit",disabled:n||!s.trim(),className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-white text-sm font-medium transition-colors",children:"Send"})]})]})}function h(){let[e,t]=(0,l.useState)(new Date),[s,h]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{h(!0);let e=setInterval(()=>t(new Date),1e3);return()=>clearInterval(e)},[]),(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsx)(i,{}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto mt-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:[(()=>{let t=e.getHours();return t<12?"Good morning":t<17?"Good afternoon":"Good evening"})(),", Jason"]}),s&&(0,a.jsxs)("p",{className:"text-white/60 mt-1",children:[e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," • ",e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:[(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsx)(c,{})}),(0,a.jsx)("div",{children:(0,a.jsx)(n,{})}),(0,a.jsx)("div",{className:"md:col-span-2 lg:col-span-2",children:(0,a.jsx)(r,{})}),(0,a.jsx)("div",{className:"md:col-span-2 lg:col-span-2",children:(0,a.jsx)(d,{})}),(0,a.jsx)("div",{className:"md:col-span-2 lg:col-span-3",children:(0,a.jsx)(o,{})})]})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=5409)}),_N_E=e.O()}]);